---
import Image from '@components/atoms/Image.astro';
import Button from '@components/atoms/Button.astro';

export interface LinkObject {
    url: string;
    id: number;
    title: string;
    type: string; // e.g. "page"
    kind: string; // e.g. "post-type"
    isFrontPage: boolean;
    openInNewTab: boolean;
}

interface HeroItemAttributes {
    text?: string;
    subtitle?: string;
    linkObject?: LinkObject;
    buttonColorName?: string; // must be a valid Button variant
}

interface Props {
    attributes: HeroItemAttributes;
}

const { attributes } = Astro.props as Props;
const { text, subtitle, linkObject, buttonColorName } = attributes;

const buttonVariant = buttonColorName ?? 'primary';
---

<div class="swiper-slide hero-slide h-full">
    <div class="hero-slider relative h-screen">
        <!-- Background image -->
        <div
            class="relative h-full w-full after:pointer-events-none after:absolute after:inset-0 after:z-0 after:bg-black/20 after:content-['']"
        >
            <Image
                attributes={attributes}
                width={2440}
                height={900}
                format="webp"
                className="h-full w-full object-cover"
            />
        </div>

        <!-- Content -->
        <div class="absolute inset-0 z-10 translate-y-1/2">
            <div class="container mx-auto px-4">
                <div class="-mx-2 flex flex-wrap">
                    <div class="w-full px-2">
                        <!-- Headline -->
                        {
                            text && (
                                <h2 class="mb-6 text-5xl leading-tight font-bold text-white xl:text-6xl 2xl:text-7xl">
                                    {text}
                                </h2>
                            )
                        }

                        <!-- Subtitle -->
                        {
                            subtitle && (
                                <p class="mb-6 text-lg text-white/90 xl:text-xl">
                                    {subtitle}
                                </p>
                            )
                        }

                        <!-- Button -->
                        {
                            linkObject?.url && (
                                <Button
                                    href={linkObject.url}
                                    target={
                                        linkObject.openInNewTab
                                            ? '_blank'
                                            : undefined
                                    }
                                    variant={buttonVariant}
                                >
                                    {linkObject.title}
                                </Button>
                            )
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
